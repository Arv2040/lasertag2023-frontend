(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[936],{8967:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/slotbook",function(){return o(4066)}])},1156:function(e,t,o){"use strict";o.d(t,{bw:function(){return s},hK:function(){return n}});let n=e=>{let t=Date.parse(e),o=new Date(t).toLocaleTimeString();return o},s=e=>{let t=Date.parse(e),o=new Date(t);return o.getDate()}},4066:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return p}});var n=o(5893),s=o(2451),r=o.n(s),a=o(6394),l=o.n(a);o(4685);var c=o(7294),i=o(1955),u=o(6154),d=o(1156),f=o(1163),x=o(1444);o(8088);var m=o(3454);function p(){let e=(0,f.useRouter)(),[t,o]=(0,c.useState)(!1),[s,a]=(0,c.useState)([]),[p,h]=(0,c.useState)(""),[v,g]=(0,c.useState)(null),b=i.Z.get("jwtToken"),k=(0,c.useRef)(null),N=(0,c.useRef)(null),w=(0,c.useRef)(null),[y,C]=(0,c.useState)(0),[_,B]=(0,c.useState)(""),j=()=>{o(!0)},D=()=>{o(!1)},T=e=>{B(e.target.dataset.slotid),j()};return(0,c.useEffect)(()=>{let t=async()=>{try{let t=await u.Z.get("".concat(m.env.NEXT_PUBLIC_API_ENDPOINT,"/user-info"),{headers:{Authorization:"Bearer ".concat(b)}});t.data,g(t.data),(null==t?void 0:t.data.slotBooked)&&e.push("/profile")}catch(e){x.Am.error("Error fetching slot, please refresh",{theme:"dark"})}};t()},[]),(0,c.useEffect)(()=>{let e=async()=>{try{let e=await u.Z.get("".concat(m.env.NEXT_PUBLIC_API_ENDPOINT,"/slot-info"),{headers:{Authorization:"Bearer ".concat(b)}});a(e.data)}catch(e){console.log("Cant fetch")}};e()},[]),(0,n.jsxs)("main",{className:"relative",children:[(0,n.jsx)(x.Ix,{}),t&&(0,n.jsx)("div",{className:"  absolute top-[50%] left-[50%] z-[1] bg-slotBookDateColorHover px-[2rem] py-[0.5rem] rounded-[14px] w-4/12 flex justify-center items-center translate-x-[-50%]  translate-y-[-50%]",children:(0,n.jsxs)("div",{className:"modal-content flex justify-between items-center gap-[1rem] flex-col ",children:[(0,n.jsx)("h2",{className:"".concat(l().className," text-2xl font-bold"),children:"Are you sure you want to change your slot?"}),(0,n.jsxs)("div",{className:" flex justify-between items-center gap-[1rem] w-full ",children:[(0,n.jsx)("button",{onClick:()=>{let e=async()=>{try{let e=await u.Z.post("".concat(m.env.NEXT_PUBLIC_API_ENDPOINT,"/book-slot"),{slotId:_},{headers:{Authorization:"Bearer ".concat(b)}});console.log(e),x.Am.success(e.data.message,{theme:"dark"})}catch(t){let e=t.response.data.error;x.Am.error(e,{theme:"dark"}),h(e)}};e(),D()},className:"".concat(r().className," rounded-[14px] bg-slotBookTimeGreen px-[24px] py-[10px] text-white font-medium w-[50%]"),children:"Confirm"}),(0,n.jsx)("button",{onClick:D,className:"".concat(r().className," rounded-[14px] bg-slotBookTimeRed text-white px-[24px] py-[10px]  font-medium w-[50%]"),children:"Cancel"})]})]})}),(0,n.jsxs)("main",{className:" w-full flex flex-col justify-center items-center min-h-screen bg-black  gap-[75px] ".concat(t?"blur-[3px]":""),children:[(0,n.jsx)("div",{className:" text-white ".concat(r().className," text-slotBookHeadingFontSize font-bold"),children:"Select your Laser Tag Slot"}),(0,n.jsxs)("section",{className:"flex flex-col justify-center  items-center w-[75%] gap-[50px]",children:[(0,n.jsxs)("div",{className:"flex flex-row justify-start items-center gap-slotBookDatePadding w-full flex-wrap",children:[(0,n.jsx)("div",{className:"bg-slotBookDateColor ".concat(r().className," font-semibold font- text-white rounded-[8px] px-[56px] py-[24px] text-slotBookDateFontSize flex-1 text-center"),ref:k,onClick:()=>{var e,t,o;C(22),null===(e=k.current)||void 0===e||e.classList.toggle("bg-slotBookDateColorHover"),null===(t=N.current)||void 0===t||t.classList.remove("bg-slotBookDateColorHover"),null===(o=w.current)||void 0===o||o.classList.remove("bg-slotBookDateColorHover")},children:"Day 1"}),(0,n.jsx)("div",{className:"bg-slotBookDateColor ".concat(r().className," font-semibold font- text-white rounded-[8px] px-[56px] py-[24px] text-slotBookDateFontSize flex-1 text-center"),ref:N,onClick:()=>{var e,t,o;C(23),null===(e=N.current)||void 0===e||e.classList.toggle("bg-slotBookDateColorHover"),null===(t=k.current)||void 0===t||t.classList.remove("bg-slotBookDateColorHover"),null===(o=w.current)||void 0===o||o.classList.remove("bg-slotBookDateColorHover")},children:"Day 2"}),(0,n.jsx)("div",{className:"bg-slotBookDateColor ".concat(r().className," font-semibold font- text-white rounded-[8px] px-[56px] py-[24px] text-slotBookDateFontSize flex-1 text-center"),ref:w,onClick:()=>{var e,t,o;C(24),null===(e=w.current)||void 0===e||e.classList.toggle("bg-slotBookDateColorHover"),null===(t=k.current)||void 0===t||t.classList.remove("bg-slotBookDateColorHover"),null===(o=N.current)||void 0===o||o.classList.remove("bg-slotBookDateColorHover")},children:"Day 3"})]}),(0,n.jsx)("section",{className:"grid tab:grid-cols-3 laptopS:grid-cols-4 w-full gap-[10px]",children:s.map((e,t)=>{if(y==(0,d.bw)(e.startTime))return(0,n.jsxs)("div",{className:"gap-[14px] bg-slotBookTime ".concat(r().className," font-semibold font- rounded-[8px] px-[18px] py-[20px] text-white flex flex-row justify-center items-center "),onClick:T,"data-slotid":e.id,children:[(0,n.jsx)("p",{"data-slotid":e.id,children:(0,d.hK)(e.startTime)}),(0,n.jsx)("div",{className:"w-[1.5px] h-[20px] bg-white","data-slotid":e.id}),(0,n.jsx)("p",{className:" ".concat(l().className," text-slotBookTimeGreen"),"data-slotid":e.id,children:"Seats Available"})]},t)})})]}),(0,n.jsxs)("section",{className:"flex flex-col justify-center items-center gap-[20px]",children:[(0,n.jsx)("section",{className:"flex flex-row justify-center items-center gap-[10px]"}),(0,n.jsx)("button",{className:"bg-slotBookTimeRed text-white rounded-[8px] ".concat(l().className," font-semibold text-slotBookDateFontSize px-bookNowButtonX py-bookNowButtonY break-keep	"),children:"Book Now"})]})]})]})}},4685:function(){},6394:function(e){e.exports={style:{fontFamily:"'__Chakra_Petch_007618', '__Chakra_Petch_Fallback_007618'",fontWeight:300,fontStyle:"normal"},className:"__className_007618"}},2451:function(e){e.exports={style:{fontFamily:"'__Tektur_2b0571'",fontStyle:"normal"},className:"__className_2b0571"}},1163:function(e,t,o){e.exports=o(1247)},1955:function(e,t,o){"use strict";/*! js-cookie v3.0.5 | MIT */function n(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)e[n]=o[n]}return e}o.d(t,{Z:function(){return s}});var s=function e(t,o){function s(e,s,r){if("undefined"!=typeof document){"number"==typeof(r=n({},o,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in r)r[l]&&(a+="; "+l,!0!==r[l]&&(a+="="+r[l].split(";")[0]));return document.cookie=e+"="+t.write(s,e)+a}}return Object.create({set:s,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var o=document.cookie?document.cookie.split("; "):[],n={},s=0;s<o.length;s++){var r=o[s].split("="),a=r.slice(1).join("=");try{var l=decodeURIComponent(r[0]);if(n[l]=t.read(a,l),e===l)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){s(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[774,784,877,888,179],function(){return e(e.s=8967)}),_N_E=e.O()}]);