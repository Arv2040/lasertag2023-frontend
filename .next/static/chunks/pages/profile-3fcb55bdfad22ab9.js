(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{6896:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return o(3175)}])},1156:function(e,t,o){"use strict";o.d(t,{bw:function(){return s},hK:function(){return l}});let l=e=>{let t=Date.parse(e),o=new Date(t).toLocaleTimeString();return o},s=e=>{let t=Date.parse(e),o=new Date(t);return o.getDate()}},3175:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return f}});var l=o(5893),s=o(8889),n=o.n(s),a=o(4450),r=o.n(a);o(4685);var c=o(7294),i=o(1955),d=o(6154),u=o(1156),m=o(1444);o(8088);var x=o(3454);function f(){var e,t,o,s;let a=i.Z.get("jwtToken"),[f,p]=(0,c.useState)(null),[v,h]=(0,c.useState)(!1),g=(0,c.useRef)(null),N=(0,c.useRef)(null),b=(0,c.useRef)(null),[j,k]=(0,c.useState)(""),[w,y]=(0,c.useState)([]),[C,_]=(0,c.useState)(0),[B,D]=(0,c.useState)(!1),T=()=>{let e=async()=>{try{let e=await d.Z.get("".concat(x.env.NEXT_PUBLIC_API_ENDPOINT,"/slot-info"),{headers:{Authorization:"Bearer ".concat(a)}});y(e.data),console.log(e.data)}catch(e){m.Am.error("Error fetching slot, please refresh",{theme:"dark"})}};e()};(0,c.useEffect)(()=>{let e=async()=>{try{let e=await d.Z.get("".concat(x.env.NEXT_PUBLIC_API_ENDPOINT,"/user-info"),{headers:{Authorization:"Bearer ".concat(a)}});p(e.data)}catch(e){console.log(e)}};e()});let S=()=>{D(!0)},I=()=>{D(!1)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m.Ix,{className:"absolute"}),(0,l.jsxs)("main",{className:"relative ",children:[B&&(0,l.jsx)("div",{className:"  absolute top-[50%] left-[50%] z-[1] bg-slotBookDateColorHover px-[2rem] py-[0.5rem] rounded-[14px] w-4/12 flex justify-center items-center translate-x-[-50%]  translate-y-[-50%]",children:(0,l.jsxs)("div",{className:"modal-content flex justify-between items-center gap-[1rem] flex-col",children:[(0,l.jsx)("h2",{className:"".concat(r().className," text-2xl font-bold"),children:"Are you sure you want to change your slot?"}),(0,l.jsxs)("div",{className:"flex justify-between items-center gap-[1rem] w-full",children:[(0,l.jsx)("button",{onClick:e=>{console.log(e);let t=async()=>{var e,t,o;try{let t=await d.Z.post("".concat(x.env.NEXT_PUBLIC_API_ENDPOINT,"/change-slot"),{slotId:j},{headers:{Authorization:"Bearer ".concat(a)}});console.log(t),m.Am.success("".concat(null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.message),{theme:"dark"})}catch(e){console.log(e),m.Am.error("".concat(null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(t=o.data)||void 0===t?void 0:t.error),{theme:"dark"})}};t(),I()},className:"".concat(n().className," rounded-[14px] bg-slotBookTimeGreen px-[24px] py-[10px] text-white font-medium w-[50%]"),children:"Confirm"}),(0,l.jsx)("button",{onClick:I,className:"".concat(n().className," rounded-[14px] bg-slotBookTimeRed px-[24px] py-[10px] text-white font-medium w-[50%]"),children:"Cancel"})]})]})}),(0,l.jsxs)("main",{className:"".concat(B?"blur-[3px]":""," flex flex-col justify-center items-center bg-black w-full gap-[2rem] py-[2rem]"),children:[(0,l.jsxs)("section",{className:"flex flex-col justify-center items-center w-full gap-[2rem]",children:[(0,l.jsx)("h1",{className:"".concat(n().className," text-3xl font-bold"),children:"Profile"}),(0,l.jsxs)("div",{className:"flex justify-around items-center w-[50%]",children:[(0,l.jsxs)("div",{className:"flex justify-center items-start flex-col gap-[1rem]",children:[(0,l.jsxs)("div",{className:"flex justify-center items-end flex-row gap-[1rem]",children:[(0,l.jsx)("h1",{className:"".concat(n().className," text-4xl "),children:"Your Slot"}),(0,l.jsx)("p",{className:"".concat(n().className," text-l underline"),onClick:()=>{h(!v),T()},children:"Change Slot"})]}),(0,l.jsxs)("button",{className:"".concat(n().className," rounded-[14px] bg-slotBookTimeRed px-[24px] py-[10px] text-black font-medium w-full"),children:[(null==f?void 0:null===(e=f.slotBooked)||void 0===e?void 0:e.startTime)?(0,u.hK)(null==f?void 0:null===(t=f.slotBooked)||void 0===t?void 0:t.startTime):"","  ,",(null==f?void 0:null===(o=f.slotBooked)||void 0===o?void 0:o.startTime)?(0,u.bw)(null==f?void 0:null===(s=f.slotBooked)||void 0===s?void 0:s.startTime):""," Sept"]})]}),(0,l.jsx)("div",{className:"bg-white  w-[2px] h-[150px]"}),(0,l.jsxs)("div",{className:"flex justify-center items-start flex-col gap-[1rem]",children:[(0,l.jsxs)("div",{className:"flex justify-center items-start flex-col",children:[(0,l.jsx)("h2",{className:"".concat(n().className," text-2xl font-medium"),children:"Contact Number"}),(0,l.jsx)("p",{children:null==f?void 0:f.phoneno})]}),(0,l.jsxs)("div",{className:"flex justify-center items-start flex-col",children:[(0,l.jsx)("h2",{className:"".concat(n().className," text-2xl font-medium"),children:"Email"}),(0,l.jsx)("p",{children:null==f?void 0:f.email})]})]})]})]}),v?(0,l.jsxs)("section",{className:"flex flex-col justify-center  items-center w-[75%] gap-[50px]",children:[(0,l.jsxs)("div",{className:"flex flex-row justify-start items-center gap-slotBookDatePadding w-full flex-wrap",children:[(0,l.jsx)("div",{className:"bg-slotBookDateColor ".concat(n().className," font-semibold font- text-white rounded-[8px] px-[56px] py-[24px] text-slotBookDateFontSize flex-1 text-center"),ref:g,onClick:()=>{var e,t,o;_(22),null===(e=g.current)||void 0===e||e.classList.toggle("bg-slotBookDateColorHover"),null===(t=N.current)||void 0===t||t.classList.remove("bg-slotBookDateColorHover"),null===(o=b.current)||void 0===o||o.classList.remove("bg-slotBookDateColorHover")},children:"Day 1"}),(0,l.jsx)("div",{className:"bg-slotBookDateColor ".concat(n().className," font-semibold font- text-white rounded-[8px] px-[56px] py-[24px] text-slotBookDateFontSize flex-1 text-center"),ref:N,onClick:()=>{var e,t,o;_(23),null===(e=N.current)||void 0===e||e.classList.toggle("bg-slotBookDateColorHover"),null===(t=g.current)||void 0===t||t.classList.remove("bg-slotBookDateColorHover"),null===(o=b.current)||void 0===o||o.classList.remove("bg-slotBookDateColorHover")},children:"Day 2"}),(0,l.jsx)("div",{className:"bg-slotBookDateColor ".concat(n().className," font-semibold font- text-white rounded-[8px] px-[56px] py-[24px] text-slotBookDateFontSize flex-1 text-center"),ref:b,onClick:()=>{var e,t,o;_(24),null===(e=b.current)||void 0===e||e.classList.toggle("bg-slotBookDateColorHover"),null===(t=g.current)||void 0===t||t.classList.remove("bg-slotBookDateColorHover"),null===(o=N.current)||void 0===o||o.classList.remove("bg-slotBookDateColorHover")},children:"Day 3"})]}),(0,l.jsx)("section",{className:"grid tab:grid-cols-3 laptopS:grid-cols-4 w-full gap-[10px]",children:w.map((e,t)=>{if(C==(0,u.bw)(e.startTime))return(0,l.jsxs)("div",{className:"gap-[14px] bg-slotBookTime ".concat(n().className," font-semibold font- rounded-[8px] px-[18px] py-[20px] text-white flex flex-row justify-center items-center ").concat((e.id,null==f||f.slotBooked._id,"")),"data-slotid":e.id,onClick:e=>{k(e.target.dataset.slotid),S()},children:[(0,l.jsx)("p",{"data-slotid":e.id,children:(0,u.hK)(e.startTime)}),(0,l.jsx)("div",{className:"w-[1.5px] h-[20px] bg-white","data-slotid":e.id}),(0,l.jsx)("p",{className:" ".concat(r().className," text-slotBookTimeGreen"),"data-slotid":e.id,children:"Seats Available"})]},t)})})]}):""]})]})]})}},4685:function(){},4450:function(e){e.exports={style:{fontFamily:"'__Chakra_Petch_007618', '__Chakra_Petch_Fallback_007618'",fontWeight:300,fontStyle:"normal"},className:"__className_007618"}},8889:function(e){e.exports={style:{fontFamily:"'__Tektur_2b0571'",fontStyle:"normal"},className:"__className_2b0571"}},1955:function(e,t,o){"use strict";/*! js-cookie v3.0.5 | MIT */function l(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var l in o)e[l]=o[l]}return e}o.d(t,{Z:function(){return s}});var s=function e(t,o){function s(e,s,n){if("undefined"!=typeof document){"number"==typeof(n=l({},o,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var r in n)n[r]&&(a+="; "+r,!0!==n[r]&&(a+="="+n[r].split(";")[0]));return document.cookie=e+"="+t.write(s,e)+a}}return Object.create({set:s,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var o=document.cookie?document.cookie.split("; "):[],l={},s=0;s<o.length;s++){var n=o[s].split("="),a=n.slice(1).join("=");try{var r=decodeURIComponent(n[0]);if(l[r]=t.read(a,r),e===r)break}catch(e){}}return e?l[e]:l}},remove:function(e,t){s(e,"",l({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,l({},this.attributes,t))},withConverter:function(t){return e(l({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[774,784,877,888,179],function(){return e(e.s=6896)}),_N_E=e.O()}]);